<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>AVFoundation Programming Guide | Huanrong</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1 .ä»‹ç»1.1 å…³äºAVFoundationAVFoundationå‡ ä¸ªæ’­æ”¾å’Œåˆ›å»ºåŸºäºè¯•å¬çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†Objective-Cæ¥å£æ¥ç®¡ç†è§†å¬æ•°æ®ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æŸ¥ï¼Œåˆ›å»ºï¼Œç¼–è¾‘æˆ–è€…reencodeåª’ä½“æ–‡ä»¶ã€‚ ä¸€èˆ¬ä½ ä½¿ç”¨æœ€é«˜çº§åˆ«çš„æŠ½è±¡æ¥å£æ¥æ‰§è¡Œä»»åŠ¡ã€‚  å¦‚æœä½ åªæ˜¯ç®€å•çš„æƒ³æ’­æ”¾ç”µå½±ï¼Œé‚£ä¹ˆç”¨AVKit framework. åœ¨iOSä¸Šï¼Œåªæ˜¯ç®€å•çš„å½•åˆ¶è§†é¢‘ï¼Œç›´æ¥ä½¿ç”¨UIKitæ¡†æ¶ä¸­çš„UIImage">
<meta name="keywords" content="Apple Manual">
<meta property="og:type" content="article">
<meta property="og:title" content="AVFoundation Programming Guide">
<meta property="og:url" content="http://yoursite.com/2017/10/26/Objective-C/AVFoundation Programming Guide/index.html">
<meta property="og:site_name" content="Huanrong">
<meta property="og:description" content="1 .ä»‹ç»1.1 å…³äºAVFoundationAVFoundationå‡ ä¸ªæ’­æ”¾å’Œåˆ›å»ºåŸºäºè¯•å¬çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†Objective-Cæ¥å£æ¥ç®¡ç†è§†å¬æ•°æ®ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æŸ¥ï¼Œåˆ›å»ºï¼Œç¼–è¾‘æˆ–è€…reencodeåª’ä½“æ–‡ä»¶ã€‚ ä¸€èˆ¬ä½ ä½¿ç”¨æœ€é«˜çº§åˆ«çš„æŠ½è±¡æ¥å£æ¥æ‰§è¡Œä»»åŠ¡ã€‚  å¦‚æœä½ åªæ˜¯ç®€å•çš„æƒ³æ’­æ”¾ç”µå½±ï¼Œé‚£ä¹ˆç”¨AVKit framework. åœ¨iOSä¸Šï¼Œåªæ˜¯ç®€å•çš„å½•åˆ¶è§†é¢‘ï¼Œç›´æ¥ä½¿ç”¨UIKitæ¡†æ¶ä¸­çš„UIImage">
<meta property="og:image" content="http://o95nbyrid.bkt.clouddn.com/2017-10-26-15090008222889.jpg">
<meta property="og:image" content="http://o95nbyrid.bkt.clouddn.com/2017-10-26-15090015197941.jpg">
<meta property="og:updated_time" content="2017-10-28T08:07:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AVFoundation Programming Guide">
<meta name="twitter:description" content="1 .ä»‹ç»1.1 å…³äºAVFoundationAVFoundationå‡ ä¸ªæ’­æ”¾å’Œåˆ›å»ºåŸºäºè¯•å¬çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†Objective-Cæ¥å£æ¥ç®¡ç†è§†å¬æ•°æ®ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æŸ¥ï¼Œåˆ›å»ºï¼Œç¼–è¾‘æˆ–è€…reencodeåª’ä½“æ–‡ä»¶ã€‚ ä¸€èˆ¬ä½ ä½¿ç”¨æœ€é«˜çº§åˆ«çš„æŠ½è±¡æ¥å£æ¥æ‰§è¡Œä»»åŠ¡ã€‚  å¦‚æœä½ åªæ˜¯ç®€å•çš„æƒ³æ’­æ”¾ç”µå½±ï¼Œé‚£ä¹ˆç”¨AVKit framework. åœ¨iOSä¸Šï¼Œåªæ˜¯ç®€å•çš„å½•åˆ¶è§†é¢‘ï¼Œç›´æ¥ä½¿ç”¨UIKitæ¡†æ¶ä¸­çš„UIImage">
<meta name="twitter:image" content="http://o95nbyrid.bkt.clouddn.com/2017-10-26-15090008222889.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Huanrong" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Huanrong</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">You pile up enough tormorrows and you&#39;ll be left with nothing but a lot of empty yesterdays.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Zoeken"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Objective-C/AVFoundation Programming Guide" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/10/26/Objective-C/AVFoundation Programming Guide/" class="article-date">
  <time datetime="2017-10-26T06:49:48.000Z" itemprop="datePublished">2017-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      AVFoundation Programming Guide
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1 .ä»‹ç»"></a>1 .ä»‹ç»</h1><h2 id="1-1-å…³äºAVFoundation"><a href="#1-1-å…³äºAVFoundation" class="headerlink" title="1.1 å…³äºAVFoundation"></a>1.1 å…³äºAVFoundation</h2><p>AVFoundationå‡ ä¸ªæ’­æ”¾å’Œåˆ›å»ºåŸºäºè¯•å¬çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†Objective-Cæ¥å£æ¥ç®¡ç†è§†å¬æ•°æ®ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æŸ¥ï¼Œåˆ›å»ºï¼Œç¼–è¾‘æˆ–è€…reencodeåª’ä½“æ–‡ä»¶ã€‚</p>
<p>ä¸€èˆ¬ä½ ä½¿ç”¨æœ€é«˜çº§åˆ«çš„æŠ½è±¡æ¥å£æ¥æ‰§è¡Œä»»åŠ¡ã€‚</p>
<ul>
<li>å¦‚æœä½ åªæ˜¯ç®€å•çš„æƒ³æ’­æ”¾ç”µå½±ï¼Œé‚£ä¹ˆç”¨AVKit framework.</li>
<li>åœ¨iOSä¸Šï¼Œåªæ˜¯ç®€å•çš„å½•åˆ¶è§†é¢‘ï¼Œç›´æ¥ä½¿ç”¨UIKitæ¡†æ¶ä¸­çš„UIImagePickerControllerã€‚</li>
</ul>
<p>æ³¨æ„ï¼šç„¶è€Œä¸€äº›åœ¨AV FoundationåŸå§‹çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­åŒ…å«åŸºäºæ—¶é—´çš„æ•°æ®ç»“æ„å’Œä¸é€æ˜æ•°æ®å¯¹è±¡çš„ä¼ é€’ä»¥åŠæè¿°åª’ä½“æ•°æ®æ˜¯åœ¨Core Mediaæ¡†æ¶ä¸­å®šä¹‰çš„ã€‚</p>
<h3 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h3><p>AV FoundationåŒ…å«ä¿©æ–¹é¢çš„æ¡†æ¶ï¼Œä¸€ç§æ˜¯åŸºäºè§†é¢‘çš„APIå¦å¤–æ˜¯åŒ…å«éŸ³é¢‘çš„APIï¼Œæ—§ä¸€ç‚¹çš„éŸ³é¢‘ç›¸å…³çš„ç±»æä¾›äº†ç®€å•çš„æ–¹å¼æ¥å¤„ç†éŸ³é¢‘ï¼Œè¯¥æ–‡æ¡£æ²¡æœ‰åšä»‹ç»ä»–ä»¬åœ¨Multimedia Programming Guideæ–‡æ¡£ä¸­ï¼</p>
<ul>
<li>æ’­æ”¾éŸ³é¢‘æ–‡ä»¶ä½¿ç”¨AVAudioPlayer</li>
<li>å½•éŸ³ä½¿ç”¨AVAudioPlayer<br>ä½ å¯ä»¥ç”¨AVAudioSeesioné…ç½®éŸ³é¢‘è¡Œä¸ºï¼Œåœ¨Audio Session Programming Guideä¸­æœ‰ä»‹ç»ã€‚</li>
</ul>
<h4 id="åœ¨AVFoundationä¸­Representing-å’Œä½¿ç”¨å¤šåª’ä½“"><a href="#åœ¨AVFoundationä¸­Representing-å’Œä½¿ç”¨å¤šåª’ä½“" class="headerlink" title="åœ¨AVFoundationä¸­Representing å’Œä½¿ç”¨å¤šåª’ä½“"></a>åœ¨AVFoundationä¸­Representing å’Œä½¿ç”¨å¤šåª’ä½“</h4><p>AV Foundationæ¡†æ¶ä¸­ä¸»è¦ç”¨æ¥è¡¨ç¤ºèµ„æºçš„ç±»æ˜¯AVAsset. The design of the framework is largely guided by this representation.<br>ç†è§£çš„æ¡†æ¶çš„è®¾è®¡èƒ½å¤Ÿå¸®åŠ©ä½ äº†è§£æ¡†æ¶æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚AVAssetå®ä¾‹æ˜¯ä¸€ä¸ªå’Œå¤šä¸ªå¤šåª’ä½“æ•°æ®çš„æ€»ç§°ï¼ˆéŸ³é¢‘æˆ–è§†é¢‘ï¼‰ï¼Œå®ƒå°†é›†åˆè§†ä¸ºä¸€ä¸ªæ•´ä½“å¹¶æä¾›äº†è¯¸å¦‚æ ‡é¢˜ï¼Œæ—¶é•¿ï¼Œnatural presentation sizeè‡ªç„¶æ¼”ç¤ºå¤§å°ç­‰ç­‰ã€‚AVAssetä¸å—ç‰¹å®šæ•°æ®æ ¼å¼çš„é™åˆ¶ã€‚AVAssetæ˜¯å…¶ä»–é€šè¿‡URLåˆ›å»ºçš„assetæˆ–è€…æ˜¯æ–°å»ºcompositionsçš„çˆ¶ç±»ã€‚<br>åœ¨assetä¸­æ¯å—åª’ä½“æ•°æ®éƒ½æ˜¯ç›¸åŒçš„ç±»å‹æˆ‘ä»¬ç§°ä¹‹ä¸ºtrackã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªtrackä»£è¡¨éŸ³é¢‘ä¸€ä¸ªä»£è¡¨è§†é¢‘ã€‚åœ¨å¤æ‚çš„æ„æˆä¸­ï¼Œç„¶è€Œå­˜åœ¨å¤šä¸ªé‡å çš„éŸ³é¢‘å’Œè§†é¢‘tracksã€‚Assetså¯èƒ½ä¹Ÿå­˜åœ¨å…ƒæ•°æ®ã€‚<br>åœ¨AV Foundationä¸­ä¸€ä¸ªå¿…ä¸å¯å°‘çš„æ¦‚å¿µå°±æ˜¯åŠ è½½ä¸€ä¸ªassetæˆ–è€…ä¸€ä¸ªtrackä½†æ˜¯å¹¶ä¸æ„å‘³ç€ä¸€å®šä¼šä½¿ç”¨ã€‚è¿™å¯èƒ½éœ€è¦æ—¶é—´è®¡ç®—é¡¹ç›®çš„æ—¶é•¿ã€‚ï¼ˆä¾‹å¦‚ä¸€ä¸ªMP3æ–‡ä»¶ï¼Œå¯èƒ½ä¸åŒ…å«æ—¶é•¿ä¿¡æ¯åœ¨åŸä¿¡æ¯ä¸­ï¼‰ï¼Œä¸ºäº†ä¸åœ¨è®¡ç®—è¿™äº›å€¼çš„æ—¶å€™é˜»å¡å½“å‰çš„çº¿ç¨‹ã€‚å½“ä½ è¯·æ±‚æ–‡ä»¶çš„æ—¶é•¿æ—¶ï¼Œä½ ä¼šåœ¨å¼‚æ­¥çš„blockä¸­å¾—åˆ°ç»“æœã€‚</p>
<h5 id="Play-back"><a href="#Play-back" class="headerlink" title="Play back"></a>Play back</h5><p>AVFoundationå…è®¸ä½ ä»¥å¤æ‚çš„æ–¹å¼ç®¡ç†ä½ çš„èµ„æºå›æ”¾ã€‚ä¸ºäº†æ”¯æŒè¿™ç§æ–¹å¼ï¼Œä»–å°†assetå‘ˆç°çš„çŠ¶æ€å’Œassetæœ¬èº«åˆ†å¼€æ¥ã€‚è¿™å°±å…è®¸ä½ æ’­æ”¾åŒä¸€èµ„æºçš„ä¸åŒç‰‡æ®µåœ¨ä¸åŒçš„åˆ†è¾¨ç‡ä¸‹ã€‚player itemç®¡ç†ç€è¿™ç§ä»£è¡¨ç€assetçš„trackğŸ‘Œ</p>
<h5 id="è¯»ã€å†™å’Œé‡æ–°ç¼–ç èµ„æº"><a href="#è¯»ã€å†™å’Œé‡æ–°ç¼–ç èµ„æº" class="headerlink" title="è¯»ã€å†™å’Œé‡æ–°ç¼–ç èµ„æº"></a>è¯»ã€å†™å’Œé‡æ–°ç¼–ç èµ„æº</h5><h5 id="ç¼©ç•¥å›¾"><a href="#ç¼©ç•¥å›¾" class="headerlink" title="ç¼©ç•¥å›¾"></a>ç¼©ç•¥å›¾</h5><h5 id="ç¼–è¾‘"><a href="#ç¼–è¾‘" class="headerlink" title="ç¼–è¾‘"></a>ç¼–è¾‘</h5><h5 id="å›¾ç‰‡å’Œè§†é¢‘æ•æ‰"><a href="#å›¾ç‰‡å’Œè§†é¢‘æ•æ‰" class="headerlink" title="å›¾ç‰‡å’Œè§†é¢‘æ•æ‰"></a>å›¾ç‰‡å’Œè§†é¢‘æ•æ‰</h5><h4 id="AVFoundationå¹¶è¡Œå¼€å‘"><a href="#AVFoundationå¹¶è¡Œå¼€å‘" class="headerlink" title="AVFoundationå¹¶è¡Œå¼€å‘"></a>AVFoundationå¹¶è¡Œå¼€å‘</h4><h3 id="å…ˆå†³æ¡ä»¶"><a href="#å…ˆå†³æ¡ä»¶" class="headerlink" title="å…ˆå†³æ¡ä»¶"></a>å…ˆå†³æ¡ä»¶</h3><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><h1 id="2-ä½¿ç”¨èµ„æº"><a href="#2-ä½¿ç”¨èµ„æº" class="headerlink" title="2. ä½¿ç”¨èµ„æº"></a>2. ä½¿ç”¨èµ„æº</h1><h1 id="3-æ’­æ”¾"><a href="#3-æ’­æ”¾" class="headerlink" title="3. æ’­æ”¾"></a>3. æ’­æ”¾</h1><h1 id="4-ç¼–è¾‘"><a href="#4-ç¼–è¾‘" class="headerlink" title="4. ç¼–è¾‘"></a>4. ç¼–è¾‘</h1><h1 id="5-å›¾ç‰‡å’Œè§†é¢‘çš„æ•æ‰"><a href="#5-å›¾ç‰‡å’Œè§†é¢‘çš„æ•æ‰" class="headerlink" title="5. å›¾ç‰‡å’Œè§†é¢‘çš„æ•æ‰"></a>5. å›¾ç‰‡å’Œè§†é¢‘çš„æ•æ‰</h1><p><img src="http://o95nbyrid.bkt.clouddn.com/2017-10-26-15090008222889.jpg" alt=""><br><img src="http://o95nbyrid.bkt.clouddn.com/2017-10-26-15090015197941.jpg" alt=""><br><code>AVCaptureDevice</code>:å®ä¾‹ä»£è¡¨è¾“å…¥è®¾å¤‡ä¾‹å¦‚æ‘„åƒå¤´å’Œéº¦å…‹é£<br><code>AVCaptureInput</code>:å®ä¾‹ä»£è¡¨ç”¨æˆ·é…ç½®è¾“å…¥è®¾å¤‡çš„ç«¯å£<br><code>AVCaptureOutput</code>:å®ä¾‹ä»£è¡¨ç®¡ç†è¾“å‡ºä¾‹å¦‚ä¸€ä¸ªè§†é¢‘æ–‡ä»¶æˆ–è€…ä¸€å¼ é™æ€å›¾<br><code>AVCaptureSession</code>:å®ä¾‹ä»£è¡¨å®šä½è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„æ•°æ®æµ</p>
<h2 id="5-1-ä½¿ç”¨Sessionå®šä½æ•°æ®æµ"><a href="#5-1-ä½¿ç”¨Sessionå®šä½æ•°æ®æµ" class="headerlink" title="5.1 ä½¿ç”¨Sessionå®šä½æ•°æ®æµ"></a>5.1 ä½¿ç”¨Sessionå®šä½æ•°æ®æµ</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">AVCaptureSession</span> *session = </div><div class="line">[[<span class="built_in">AVCaptureSession</span> alloc] init];</div><div class="line"><span class="comment">//æ·»åŠ è¾“å…¥å’Œè¾“å‡º</span></div><div class="line">[session startRunning];</div></pre></td></tr></table></figure>
<h3 id="5-1-1-é…ç½®Session"><a href="#5-1-1-é…ç½®Session" class="headerlink" title="5.1.1 é…ç½®Session"></a>5.1.1 é…ç½®Session</h3><p> ä½¿ç”¨sessionå‚æ•°çš„<code>sessionPreset</code>æ¥æŒ‡å®šä½ æƒ³è¦çš„å›¾ç‰‡è´¨é‡ã€‚</p>
<table>
<thead>
<tr>
<th>å˜é‡</th>
<th>åˆ†è¾¨ç‡</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>AVCaptureSessionPresetHight</td>
<td>High</td>
<td>é«˜å½•åˆ¶è´¨é‡</td>
</tr>
<tr>
<td>AVCaptureSessionPresetMedium</td>
<td>Medium</td>
<td>é€‚åˆWi-Fiå…±äº«</td>
</tr>
<tr>
<td>AVCaptureSessionPresetLow</td>
<td>Low</td>
<td>é€‚åˆ3Gå…±äº«</td>
</tr>
<tr>
<td>AVCaptureSessionPreset640x480</td>
<td>640x480</td>
<td>VGA.</td>
</tr>
<tr>
<td>AVCaptureSessionPreset1280x720</td>
<td>1280x720</td>
<td>720p HD.</td>
</tr>
<tr>
<td>AVCaptureSessionPresetPhoto</td>
<td>Photo</td>
<td>å®Œå…¨å›¾ç‰‡åˆ†è¾¨ç‡,ä¸æ”¯æŒè§†é¢‘è¾“å‡º</td>
</tr>
</tbody>
</table>
<h3 id="5-1-2-åœ¨è®¾ç½®åª’ä½“å¸§ä¹‹å‰æ£€æŸ¥æ˜¯å¦æ”¯æŒ"><a href="#5-1-2-åœ¨è®¾ç½®åª’ä½“å¸§ä¹‹å‰æ£€æŸ¥æ˜¯å¦æ”¯æŒ" class="headerlink" title="5.1.2 åœ¨è®¾ç½®åª’ä½“å¸§ä¹‹å‰æ£€æŸ¥æ˜¯å¦æ”¯æŒ"></a>5.1.2 åœ¨è®¾ç½®åª’ä½“å¸§ä¹‹å‰æ£€æŸ¥æ˜¯å¦æ”¯æŒ</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ([<span class="keyword">self</span>.captureSession canSetSessionPreset:<span class="built_in">AVCaptureSessionPreset1280x720</span>]) &#123;</div><div class="line">    <span class="keyword">self</span>.captureSession.sessionPreset = <span class="built_in">AVCaptureSessionPreset1280x720</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-1-3-åœ¨-session-beginConfiguration-å’Œ-session-commitConfiguration-ä¸­é—´ä¿®æ”¹sessionå‚æ•°ã€‚"><a href="#5-1-3-åœ¨-session-beginConfiguration-å’Œ-session-commitConfiguration-ä¸­é—´ä¿®æ”¹sessionå‚æ•°ã€‚" class="headerlink" title="5.1.3 åœ¨[session beginConfiguration]å’Œ[session commitConfiguration]ä¸­é—´ä¿®æ”¹sessionå‚æ•°ã€‚"></a>5.1.3 åœ¨<code>[session beginConfiguration]</code>å’Œ<code>[session commitConfiguration]</code>ä¸­é—´ä¿®æ”¹sessionå‚æ•°ã€‚</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[<span class="keyword">self</span>.captureSession beginConfiguration];</div><div class="line"><span class="comment">//ä¿®æ”¹é…ç½®</span></div><div class="line">[<span class="keyword">self</span>.captureSession commitConfiguration];</div></pre></td></tr></table></figure>
<h3 id="5-1-4-ç›‘æ§Sessionçš„çŠ¶æ€"><a href="#5-1-4-ç›‘æ§Sessionçš„çŠ¶æ€" class="headerlink" title="5.1.4 ç›‘æ§Sessionçš„çŠ¶æ€"></a>5.1.4 ç›‘æ§Sessionçš„çŠ¶æ€</h3><p>å¯ä»¥é€šè¿‡åœ¨ä¸»çº¿ç¨‹ä¸Šç›‘å¬<code>AVCaptureSessionRuntimeErrorNotification</code>æ¥æ•è·sessionçš„å¼€å§‹å’Œåœæ­¢ä»¥åŠè¢«æ‰“æ–­çš„çŠ¶æ€ã€‚å¦‚æœå‘ç”Ÿäº†é”™è¯¯ä½ ä¹Ÿå¯ä»¥KVOæ¥ç›‘å¬sessionçš„runningå’Œinterruptedå±æ€§ã€‚</p>
<h2 id="5-2-AVCaptureDeviceä»£è¡¨è¾“å…¥è®¾å¤‡"><a href="#5-2-AVCaptureDeviceä»£è¡¨è¾“å…¥è®¾å¤‡" class="headerlink" title="5.2 AVCaptureDeviceä»£è¡¨è¾“å…¥è®¾å¤‡"></a>5.2 AVCaptureDeviceä»£è¡¨è¾“å…¥è®¾å¤‡</h2><p><code>AVCaptureDevice</code>ä»£è¡¨æŠ½è±¡æ˜¯ç‰©ç†è®¾å¤‡(ä¾‹å¦‚æ‘„åƒå¤´å’Œéº¦å…‹é£), æ¯ä¸ªå¯¹è±¡å¯¹åº”ç€ä¸€ä¸ªè¾“å…¥è®¾å¤‡ã€‚ ä¾‹å¦‚ï¼šå‰ç½®æ‘„åƒå¤´ã€åç½®æ‘„åƒå¤´ã€éº¦å…‹é£ç­‰ã€‚</p>
<h3 id="5-2-1-æ‰¾åˆ°å½“å‰å¯ç”¨çš„è¾“å…¥è®¾å¤‡"><a href="#5-2-1-æ‰¾åˆ°å½“å‰å¯ç”¨çš„è¾“å…¥è®¾å¤‡" class="headerlink" title="5.2.1 æ‰¾åˆ°å½“å‰å¯ç”¨çš„è¾“å…¥è®¾å¤‡"></a>5.2.1 æ‰¾åˆ°å½“å‰å¯ç”¨çš„è¾“å…¥è®¾å¤‡</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ‰€æœ‰çš„inputè¾“å…¥</span></div><div class="line"><span class="built_in">NSArray</span> *allInputDevices = [<span class="built_in">AVCaptureDevice</span> devices];</div><div class="line"><span class="comment">//æŸ¥æ‰¾ç‰¹å®šç±»åˆ«çš„è§†é¢‘è¾“å…¥</span></div><div class="line"><span class="built_in">NSArray</span> *allsuppoedVideoDevice = [<span class="built_in">AVCaptureDevice</span> devicesWithMediaType:<span class="built_in">AVMediaTypeVideo</span>];</div></pre></td></tr></table></figure>
<p>è·å–åˆ°çš„è®¾å¤‡çš„åˆ—è¡¨å¯èƒ½å› ä¸ºè¢«å…¶ä»–çš„åº”ç”¨å ç”¨è€Œä¸å¯ç”¨ï¼Œä½†æ˜¯å½“ä»–ä»¬è¢«é‡Šæ”¾æ—¶ã€‚ä½ å¯é€šè¿‡ç›‘å¬<code>AVCaptureDeviceWasConnectedNotification</code>å’Œ<code>AVCaptureDeviceWasDisconnectedNotification</code> å½“è®¾å¤‡åˆ—è¡¨å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ã€‚</p>
<h2 id="5-3-è®¾å¤‡ç‰¹ç‚¹"><a href="#5-3-è®¾å¤‡ç‰¹ç‚¹" class="headerlink" title="5.3 è®¾å¤‡ç‰¹ç‚¹"></a>5.3 è®¾å¤‡ç‰¹ç‚¹</h2><p>æ£€æŸ¥æ˜¯è¢«æ˜¯å¦æ”¯æŒæŸä¸€ç§ç‰¹åˆ«çš„åª’ä½“ç±»å‹<code>hasMediaType:</code>æˆ–è€…å·²æœ‰çš„seesion<code>supportsAVCaptureSessionPreset:</code></p>
<p>é€‰æ‹©ä¸åŒä½ç½®çš„æ‘„åƒå¤´</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//å‰ç½®æ‘„åƒå¤´</span></div><div class="line"><span class="keyword">self</span>.currentDevice.position == <span class="built_in">AVCaptureDevicePositionFront</span>;</div><div class="line"><span class="comment">//åç½®æ‘„åƒå¤´</span></div><div class="line"><span class="keyword">self</span>.currentDevice.position == <span class="built_in">AVCaptureDevicePositionBack</span>;</div></pre></td></tr></table></figure>
<h3 id="5-3-1æ‰¾åˆ°æ”¯æŒè§†é¢‘çš„åç½®æ‘„åƒå¤´"><a href="#5-3-1æ‰¾åˆ°æ”¯æŒè§†é¢‘çš„åç½®æ‘„åƒå¤´" class="headerlink" title="5.3.1æ‰¾åˆ°æ”¯æŒè§†é¢‘çš„åç½®æ‘„åƒå¤´"></a>5.3.1æ‰¾åˆ°æ”¯æŒè§†é¢‘çš„åç½®æ‘„åƒå¤´</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *devices = [<span class="built_in">AVCaptureDevice</span> devices];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="built_in">AVCaptureDevice</span> *device <span class="keyword">in</span> devices) &#123;</div><div class="line">    <span class="keyword">if</span> ([device hasMediaType:<span class="built_in">AVMediaTypeVideo</span>]) &#123;</div><div class="line">        <span class="keyword">if</span> ([device position] == <span class="built_in">AVCaptureDevicePositionBack</span>) &#123;</div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"back"</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="built_in">NSLog</span>(<span class="string">@"front"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="5-3-2-æ‰¾åˆ°å¸¦æ‰‹ç”µç­’çš„æ‘„åƒå¤´"><a href="#5-3-2-æ‰¾åˆ°å¸¦æ‰‹ç”µç­’çš„æ‘„åƒå¤´" class="headerlink" title="5.3.2 æ‰¾åˆ°å¸¦æ‰‹ç”µç­’çš„æ‘„åƒå¤´"></a>5.3.2 æ‰¾åˆ°å¸¦æ‰‹ç”µç­’çš„æ‘„åƒå¤´</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSArray</span> *devices = [<span class="built_in">AVCaptureDevice</span> devicesWithMediaType:<span class="built_in">AVMediaTypeVideo</span>];</div><div class="line">    <span class="built_in">NSMutableArray</span> *torchDevices = [[<span class="built_in">NSMutableArray</span> alloc] init];</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="built_in">AVCaptureDevice</span> *device <span class="keyword">in</span> devices) &#123;</div><div class="line">        <span class="keyword">if</span> ([device hasTorch]) &#123;</div><div class="line">            <span class="comment">//æ”¯æŒæ‰‹ç”µç­’</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="5-3-3-è®¾å¤‡åç§°"><a href="#5-3-3-è®¾å¤‡åç§°" class="headerlink" title="5.3.3 è®¾å¤‡åç§°"></a>5.3.3 è®¾å¤‡åç§°</h3><p>æ‰¾åˆ°å¤šä¸ªè®¾å¤‡å¹¶ä¸”è¦è®©ç”¨æˆ·é€‰æ‹©çš„æ—¶å€™å¯ä»¥ä½¿ç”¨deviceçš„<code>localizeName</code>å±æ€§è·å–è¿™ä¸ªè®¾å¤‡çš„åå­—ã€‚</p>
<h3 id="5-3-4-èšç„¦æ¨¡å¼"><a href="#5-3-4-èšç„¦æ¨¡å¼" class="headerlink" title="5.3.4 èšç„¦æ¨¡å¼"></a>5.3.4 èšç„¦æ¨¡å¼</h3><h3 id="5-3-5-Exposure-Modes"><a href="#5-3-5-Exposure-Modes" class="headerlink" title="5.3.5 Exposure Modes"></a>5.3.5 Exposure Modes</h3><h3 id="5-4-6-é—ªå…‰ç¯æ¨¡å¼"><a href="#5-4-6-é—ªå…‰ç¯æ¨¡å¼" class="headerlink" title="5.4.6 é—ªå…‰ç¯æ¨¡å¼"></a>5.4.6 é—ªå…‰ç¯æ¨¡å¼</h3><h3 id="5-5-7-æ‰‹ç”µç­’æ¨¡å¼"><a href="#5-5-7-æ‰‹ç”µç­’æ¨¡å¼" class="headerlink" title="5.5.7 æ‰‹ç”µç­’æ¨¡å¼"></a>5.5.7 æ‰‹ç”µç­’æ¨¡å¼</h3><h3 id="5-6-8-è§†é¢‘é˜²æŠ–"><a href="#5-6-8-è§†é¢‘é˜²æŠ–" class="headerlink" title="5.6.8 è§†é¢‘é˜²æŠ–"></a>5.6.8 è§†é¢‘é˜²æŠ–</h3><h3 id="5-7-9-ç™½å¹³è¡¡"><a href="#5-7-9-ç™½å¹³è¡¡" class="headerlink" title="5.7.9 ç™½å¹³è¡¡"></a>5.7.9 ç™½å¹³è¡¡</h3><h3 id="5-8-10-è®¾ç½®è®¾å¤‡æ–¹å‘"><a href="#5-8-10-è®¾ç½®è®¾å¤‡æ–¹å‘" class="headerlink" title="5.8.10 è®¾ç½®è®¾å¤‡æ–¹å‘"></a>5.8.10 è®¾ç½®è®¾å¤‡æ–¹å‘</h3><h2 id="5-4-é…ç½®è®¾å¤‡"><a href="#5-4-é…ç½®è®¾å¤‡" class="headerlink" title="5.4 é…ç½®è®¾å¤‡"></a>5.4 é…ç½®è®¾å¤‡</h2><h2 id="5-5-è®¾å¤‡ä¹‹é—´çš„åˆ‡æ¢"><a href="#5-5-è®¾å¤‡ä¹‹é—´çš„åˆ‡æ¢" class="headerlink" title="5.5 è®¾å¤‡ä¹‹é—´çš„åˆ‡æ¢"></a>5.5 è®¾å¤‡ä¹‹é—´çš„åˆ‡æ¢</h2><h1 id="6-å¯¼å‡º"><a href="#6-å¯¼å‡º" class="headerlink" title="6. å¯¼å‡º"></a>6. å¯¼å‡º</h1><h1 id="7-Time-and-Media-Representations"><a href="#7-Time-and-Media-Representations" class="headerlink" title="7. Time and Media Representations"></a>7. Time and Media Representations</h1><p><a href="https://developer.apple.com/library/content/samplecode/AVCam/Introduction/Intro.html#//apple_ref/doc/uid/DTS40010112" target="_blank" rel="external">å®˜æ–¹ç¤ºä¾‹é¡¹ç›®</a><br><a href="http://www.jianshu.com/p/f110bf6e0471" target="_blank" rel="external">CMTimeä»‹ç»</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/10/26/Objective-C/AVFoundation Programming Guide/" data-id="cj9844yqf0000ul3gtn525n4l" class="article-share-link">Delen</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Apple-Manual/">Apple Manual</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/10/26/hello-world/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nieuwer</strong>
      <div class="article-nav-title">
        
          Hello World
        
      </div>
    </a>
  
  
    <a href="/2017/10/27/English/45 Ways to avoid using the work â€˜veryâ€™/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ouder</strong>
      <div class="article-nav-title">45 Ways to avoid using the work â€˜veryâ€™</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">CategorieÃ«n</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Idioms/">Idioms</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/">Objective-C</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/åˆ©å™¨/">åˆ©å™¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æ–‡å­¦/">æ–‡å­¦</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Labels</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Apple-Manual/">Apple Manual</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Grammar/">Grammar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Idioms/">Idioms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Words/">Words</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iidiom/">iidiom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/åˆ©å™¨/">åˆ©å™¨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å•è¯/">å•è¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/çº¢æ¥¼æ¢¦/">çº¢æ¥¼æ¢¦</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è€ƒè¯•/">è€ƒè¯•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è¯—è¯/">è¯—è¯</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è¯­æ³•/">è¯­æ³•</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é›…æ€/">é›…æ€</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Apple-Manual/" style="font-size: 13.33px;">Apple Manual</a> <a href="/tags/Grammar/" style="font-size: 10px;">Grammar</a> <a href="/tags/Idioms/" style="font-size: 10px;">Idioms</a> <a href="/tags/Words/" style="font-size: 13.33px;">Words</a> <a href="/tags/iidiom/" style="font-size: 10px;">iidiom</a> <a href="/tags/åˆ©å™¨/" style="font-size: 10px;">åˆ©å™¨</a> <a href="/tags/å•è¯/" style="font-size: 13.33px;">å•è¯</a> <a href="/tags/çº¢æ¥¼æ¢¦/" style="font-size: 16.67px;">çº¢æ¥¼æ¢¦</a> <a href="/tags/è€ƒè¯•/" style="font-size: 10px;">è€ƒè¯•</a> <a href="/tags/è¯—è¯/" style="font-size: 13.33px;">è¯—è¯</a> <a href="/tags/è¯­æ³•/" style="font-size: 20px;">è¯­æ³•</a> <a href="/tags/é›…æ€/" style="font-size: 10px;">é›…æ€</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archieven</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recente berichten</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/27/English/idioms/2017-10-27-1/">è¯­æ°”è¯</a>
          </li>
        
          <li>
            <a href="/2017/10/27/English/idioms/2017-10-27/">You&#39;re welcome &amp; I&#39;m sorry</a>
          </li>
        
          <li>
            <a href="/2017/10/27/English/2017-10-27/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/10/27/English/45 Ways to avoid using the work â€˜veryâ€™/">45 Ways to avoid using the work â€˜veryâ€™</a>
          </li>
        
          <li>
            <a href="/2017/10/26/Objective-C/AVFoundation Programming Guide/">AVFoundation Programming Guide</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>